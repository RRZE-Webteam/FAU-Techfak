/*-----------------------------------------------------------------------------------*/
/* Subnav in content
/*-----------------------------------------------------------------------------------*/


#subnav {
	@include no-list;
	
	ul, li {
		@include no-list;
	}
	
	a {
		text-decoration: none;
		display: block;
		line-height: 18px;
		font-size: 14px;
		padding: 6px 15px;
		color: $colorSubNav;
		background: $colorSubNavBackground;
		padding-left: 15px;
		padding-right: 15px; 

		&:hover, &:focus {
			background-color: $colorSubNavCurrentBackground;
			color: $colorSubNavCurrent;
		}
	}
	
	ul {
		display: none;
	}
	
	> li {
		border-bottom: 1px solid #fff;
	}
	
	.current_page_item, 
	.current_page_ancestor {
		a {
			color: $colorSubNavCurrent;
			background-color: $colorSubNavCurrentBackground; 
			border: none;
			
			&:hover, &:focus {        
				background-color: $colorSubNavCurrentHoverBackground; 
				color: $colorSubNavCurrentHover; 
			}
		}
		
		> ul {
			display: block;
		}
		
		> a {
			font-weight: bold;
		}
	}
	
	li li a {
		padding-left: 25px;
	}
	
	li li li a {
		padding-left: 35px;
		font-size: 13px;
	}
	
	li li li li a {
		padding-left: 45px;
		
		&:hover, &:focus {
			background: $colorSubNavBackgroundHover; 
			color: $colorSubNav; 
		}
	}
	
	li .current_page_item,
	li .current_page_ancestor {
		a {
			background: $colorSubNavCurrentBackground; 
		}
		
		li {
			a:hover, a:focus {
				background: $colorSubNavCurrentHoverBackground; 
			}
		}
	}
	
	li .current_page_ancestor .current_page_item a {
		background: $colorSubNavCurrentHoverBackground;
	}
	
	li li .current_page_ancestor a {
		background: $colorSubNavCurrentHoverBackground;
	}
	
	li li li li a,
	li li li li.current_page_item a {
		background: $colorSubNavBackgroundHover; 
		color: $colorSubNavCurrent;
	}
	
	li.protected-page a {
		padding-right: 40px;
		background-image: url('../img/protected-page.png');
		background-repeat: no-repeat;
		background-position: right center;
	}
	

}




/* Subpages / Portal Menu */
.subpages-menu {
	@include no-list;
	margin: 20px 0 20px -20px;
	
	li {
		@include no-list;
		background-image: none;
		margin-bottom: 20px;
		padding-left: 20px;
		
		a.image {
			text-decoration: none;
			width: 220px;
			height: 110px;
			// @include box-shadow(0 1px 2px rgba(0,0,0,0.3));
			display: inline-block;			
			img {
			    position: relative;
			    bottom: 0;
			}
			
			&.ext-link:after {
				@extend .fa;
				content: "\f08e"; 
				position: absolute;
				top: 0;
				right: 0;
				z-index: 10;
				height: 20px;
				width: 20px;
				background: $colorPrimary;
				line-height: 20px;
				font-size: 13px;
				color: #fff; 
				font-weight: bolder;
				text-align: right;
				padding: 0 2px 0 0;
				
			}
		}
	}
	h3 {
		    padding: 10px 15px 10px 0;
		    font-weight: bold;
		   
		    a {
			 text-decoration: none;
			 &:hover, &:focus {
			    text-decoration: underline;
			}
			
			&.ext-link:after {
				@extend .fa;
				content: "\f08e"; 
				margin-left: 5px;
				margin-top: 3px;
				font-size: 10px;
				color: $colorText; // $colorDefault;
				vertical-align: top;
			    
			}
		    }	    
	}


		
		
	.menu-item {
		position: relative;
	}
	
	ul {
		@include no-list;
		
		li {
			@include no-list;
			background: none;
			display: table;
			border-bottom: 1px solid $colorLightest;
			width: 100%;
			
		}
		li:before {
		    @extend .fa;
		    @extend .fa-angle-right;	
		    font-weight: bold;
		    display: table-cell;
		    vertical-align: middle;
		    color: $colorDefault;
		    width: 5px;
		}
		
		a {
			text-decoration: none;
			display: table-cell;
			padding: 5px 12px;
			font-size: 13px;
			line-height: 16px;
		}
		
		a:hover, a:focus {
			text-decoration: none;
			background-color: $colorLightest;
		}
	}
	
	.subpage-item:focus h3 {
		background-color: $colorLightest;
	}
}

.page-template-page-subnav {
    #content {
	.span8 {
	    img {		
		&.alignleft, 
		&.alignright, 
		&.size-full {
		    vertical-align: top;
		    overflow: hide;
	        }
		&.size-full {
		    clear: both;
		}
	    }
	    div.alignleft, 
	    img.alignleft {
		clear: none;
		
	    }
	}
    }
}





@media (max-width: $breakMD) {
  	ul.menu {
		margin-bottom: 10px;
	}

    #subnav {
	ul {
			margin-left: 0;
			margin-right: 0;
	}
    }
	
    #content {
	ul.menu, 
	ul.menu ul {
		margin-left: 0;
		margin-right: 0;
	}
	.subpages-menu {
		li.span3 {
		    width: 230px;
		}    

		 a.image {
		    &.ext-link:after {
			display: none;
		    }
		}
	}
    }
}

@media (max-width: $breakSM) {
     .page-template-page-subnav {
	
	    #content {
		margin-left: 15px;
		margin-right: 15px;

		.span4 {
		    padding-bottom: 10px;
		}
		.container {
		   

		    .sidebar-inline { 
		       width: 100%;   
		       border-left: none;
		       padding-left: 15px;
		       padding-right: 15px;
		   }

		   aside.widget:first-child {
		       border-top: 2px solid $colorStandardHellgrau;
		   }
		}
	    }
    }
     #content .subpages-menu {
	.menu-item {
	    margin: 0 0 10px 0;
	}
	ul {
	    display: block;
	}
	li {
	    width: 100%;
	    margin: 0 0 10px 10px;
	    list-style: inside none circle;
	    float: none;
	    a.image {
		    width: 100%;
		    height: auto;
		    max-height: 110px;
		    text-align: center;
		    
		    &.ext-link:after {
			display: none;
		    }
	    }
	    
	    .span3 {
		float: none;
	    }
	    ul {
		margin-bottom: 10px;
		li {
		    display: inline-block;
		    width: 40%;
		    border: none;
		    float: left;
		}
	    }
	    
	}
    }
}

@media (max-width: $breakLG) {
    	.subpages-menu {
	    li.span3 {
		width: 230px;
	    }    
	}
}

@media (min-width: $break-1360)  {
    .sidebar-subnav {
	max-width: 300px;
    }
}